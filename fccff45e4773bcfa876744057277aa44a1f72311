{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "68470418_97dcfa39",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2022-10-31T14:21:42Z",
      "side": 1,
      "message": "Sync with AOSP",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a41333ab_0bb9ebaa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2022-11-23T19:50:26Z",
      "side": 1,
      "message": "Oliver, I\u0027m thinking maybe let\u0027s revisit this in December if possible. We can bring in some of the things we have learned from testing, and from AOSP\u0027s advice, *without* going as overboard as I did over there - goal being a patch as minimal as possible that still satisfies requirements. Current patchset I think has a few issues that we can address when we look into it; my patchsets are not reasonable as-is.",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f2f8eee_9e9114e9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-01-06T20:24:15Z",
      "side": 1,
      "message": "Uh. This one has been haunting me for a while. Maybe a new plan for this, one step at a time? This is my thinking currently, I wonder what you all think:\n\n1. Get `atest FrameworksNetTests` to actually succeed in CalyxOS, or at least the relevant ones. Could start with https://gitlab.com/CalyxOS/calyxos/-/issues/1365 which Chirayu opened a while ago now.\n2. Put the latest patchset we have here into a local worktree, and try the tests, which will likely fail (but, maybe not).\n3. Adapt existing tests, and/or create new ones if needed, to demonstrate that apps under lockdown cannot receive incoming connections except through the VPN. Tests should be clear and simple to understand.\n4. Make any necessary fixes to our implementation.\n\nNote to self: Don\u0027t adapt tests with a primary goal of getting them to pass. The tests should make enough sense that we *know* that they test what we want, and we *know* that if there are any problems, they are with the implementation. This will likely require writing easier-to-understand tests than AOSP.",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2486fbc_d28d50db",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2023-01-06T20:26:55Z",
      "side": 1,
      "message": "Sounds ok to me. Know if this is the last PS of the \"simple\" version (T+)? Or was there more on AOSP that we didn\u0027t cherrypick?",
      "parentUuid": "7f2f8eee_9e9114e9",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d19726a8_c079e3ef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-01-06T20:37:58Z",
      "side": 1,
      "message": "Good question. Nah, as far as our code, this is exactly the same as the last reasonable patch submitted to AOSP (patchset 8). Only differences are their code (android13 vs master). This change was submitted within 15 minutes of the AOSP change.",
      "parentUuid": "f2486fbc_d28d50db",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6edbb1c_9441216b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-02-23T19:15:23Z",
      "side": 1,
      "message": "Now that I\u0027ve been looking at the Connectivity module again for the last week or maybe more, this change is much easier to wrap my head around. The code is simple, and I don\u0027t see any problems with it. Automated tests are great, but personally I don\u0027t think that should be cause to hold this up. And based on what we\u0027re touching, right now I don\u0027t see how this could possibly make anything worse.\n\nGoing to give this a whirl again on-device.",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "863e1039_07194454",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-02-23T19:35:36Z",
      "side": 1,
      "message": "Working for me. Also works in combination with per-UID lockdown: https://review.calyxos.org/q/topic:firewall-per-uid-lockdown\n\n(Real-world test: Turn on primitive ftpd, ensure you can connect to it normally via another device, turn off mobile data \u0026 Wi-Fi, now you can\u0027t, turn one on, now you can.)\n\nIf they both review okay, it *might* make sense to ship them together...?",
      "parentUuid": "d6edbb1c_9441216b",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "97c47c0e_e5d93a77",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-02-23T19:36:34Z",
      "side": 1,
      "message": "(Without per-uid lockdown, of course just put a VPN into/out of lockdown mode for testing)",
      "parentUuid": "863e1039_07194454",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a934165_43eb702f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-03-29T20:47:01Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d19726a8_c079e3ef",
      "revId": "fccff45e4773bcfa876744057277aa44a1f72311",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}